<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<title>AMP - Samples - VOD Captioning Subply</title>
		<link type="text/css" rel="stylesheet" href="../resources/styles/styles.css" />
		<!--Player-->
        <script type="text/javascript"  src="../amp/amp.min.js?amp-defaults=samples.xml"></script>
        <script type="text/javascript">
            var amp;
            
            function loadHandler(event)
            {
            	var config_overrides = 
            	{
            		autoplay: false,
            		media:
            		{
	            		title: "Subply VOD Captioning Sample",
	            		poster: '../resources/images/space_alone.jpg',
	            		source:
	                    [
	                        {src: "http://msvodmps-vh.akamaihd.net/z/events/2014/1410/O365ModernWorkplace/media/Office365_ModernWorkplace_FullShow_,350,500,800,1300,2000,3000,.mp4.csmil/manifest.f4m", type: "video/f4m"},
	                        {src: "http://msvodmps-vh.akamaihd.net/i/events/2014/1410/O365ModernWorkplace/media/Office365_ModernWorkplace_FullShow_,350,500,800,1300,2000,3000,.mp4.csmil/master.m3u8", type: "application/x-mpegURL"}
	                    ],
	                    track:
	                    [
							/*
			            	"media-subTitle": {
								"@attributes": {
									"type": "live-subply",
									"lang": "en-us",
									"href": "amazon_olclive_1_300@69097"
								}
							}
			            	*/
                            {kind: "captions", type: "live-subply", srclang: "en", src: "1cac71e7-4106-421b-9b49-c9b96a5518a6"}
	                    ]
					},
					captioning:
					{
						enabled: true,
						flash:
						{
							subply:
							{
								timeMethod: "stream", 
								plugin: "http://static.plymedia.com/players/default/plyviewer?skin=submenu-topleft" 
							}
						}
					},
					mediaanalytics:
					{
						enabled: true
					}
            	};
            	
                amp = new akamai.amp.AMP("akamai-media-player", config_overrides, readyHandler);
            }
            
            function readyHandler(event)
            {
            	amp.captioning.addEventListener("visibilitychange", function (event)
                {
                	console.debug(amp.captioning.getHidden());
                });
            }
        </script>
	</head>
	<!-- HACK: ontouchstart="" is a workaround that enables the use of the CSS :active psuedo class on iOS -->
	<body onload="loadHandler(event)" ontouchstart="">
		<div class="page">
	    	<div class="header">
	    		<div class="header-logo"></div>
	    		<div class="header-text">
	    			<h1>AMP</h1>
	    			<h2>v4.10.0.0004</h2>
	    		</div>
			</div>

            <div class="content">
            	<h3>AMP: Samples</h3>
	    		<h5>Subply Captioning</h5>
            	<div class="sample-player"><div id="akamai-media-player"></div></div>
            </div>
	   	</div>
	</body>
</html>